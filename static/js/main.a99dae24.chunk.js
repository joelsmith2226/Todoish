(this.webpackJsonptodoist=this.webpackJsonptodoist||[]).push([[0],{14:function(e,t,a){e.exports=a(24)},23:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),l=a(2),s=function(){return c.a.createElement("header",{className:"header","data-testid":"header"},c.a.createElement("nav",null,c.a.createElement("div",{className:"logo"},c.a.createElement("img",{src:"/images/logo.png",alt:"Todist"})),c.a.createElement("div",{className:"settings"},c.a.createElement("ul",null,c.a.createElement("li",{"data-testid":"quick-add-task-action",className:"settings__add"},"+"),c.a.createElement("li",{"data-testid":"dark-mode-action",className:"settings__darkmode"},c.a.createElement(l.c,null))))))},o=a(1),i=a(5),d=a(12),u=a.n(d),m=(a(19),u.a.initializeApp({apiKey:"AIzaSyBUZuJQafBjuKxufsfH2YvHCGCZqa1F5Mw",authDomain:"todoist-1fa7f.firebaseapp.com",databaseURL:"https://todoist-1fa7f.firebaseio.com",projectId:"todoist-1fa7f",storageBucket:"todoist-1fa7f.appspot.com",messagingSenderId:"676670951114",appId:"1:676670951114:web:59f68672f2ab471be26e33",measurementId:"G-DTLS44ET7F"})),f=[{key:"INBOX",name:"Inbox"},{key:"TODAY",name:"Today"},{key:"NEXT_7",name:"Next 7 Days"}],p=a(3),E=a.n(p),j=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)([]),s=Object(o.a)(l,2),d=s[0],u=s[1];return Object(n.useEffect)((function(){var t=m.firestore().collection("tasks").where("userId","==","fadsadsfasd34325ewf23");return t=(t=e&&!function(e){return f.find((function(t){return t.key===e}))}(e)?t=t.where("projectId","==",e):"TODAY"===e?t=t.where("date","==",E()().format("DD/MM/YYYY")):"INBOX"===e||0===e?t=t.where("data","==",""):t).onSnapshot((function(t){var a=t.docs.map((function(e){return Object(i.a)({id:e.id},e.data())}));r("NEXT_7"===e?a.filter((function(e){return E()(e.data,"DD/MM/YYYY").diff(E()(),"days")<=7&&!0!==e.archived})):a.filter((function(e){return!0!==e.archived}))),u(a.filter((function(e){return!1!==e.archived})))})),function(){return t()}}),[e]),{tasks:c,archivedTasks:d}},b=Object(n.createContext)(),v=function(e){var t=e.children,a=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){m.firestore().collection("projects").where("userId","==","fadsadsfasd34325ewf23").orderBy("projectId").get().then((function(e){var t=e.docs.map((function(e){return Object(i.a)({},e.data(),{docId:e.id})}));JSON.stringify(t)!==JSON.stringify(a)&&c(t)}))}),[a]),{projects:a,setProjects:c}}(),r=a.projects,l=a.setProjects;return c.a.createElement(b.Provider,{value:{projects:r,setProjects:l}},t)},O=function(){return Object(n.useContext)(b)},N=Object(n.createContext)(),h=function(e){var t=e.children,a=Object(n.useState)("INBOX"),r=Object(o.a)(a,2),l=r[0],s=r[1];return c.a.createElement(N.Provider,{value:{selectedProject:l,setSelectedProject:s}},t)},k=function(){return Object(n.useContext)(N)},_=a(13),I=function(e){var t=e.project,a=Object(n.useState)(!1),r=Object(o.a)(a,2),s=r[0],i=r[1],d=O(),u=d.projects,f=d.setProjects,p=k().setSelectedProject;return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"sidebar__dot"},"\u2022"),c.a.createElement("span",{className:"sidebar__project-name"},t.name),c.a.createElement("span",{className:"sidebar__project-delete","data-testid":"delete-project",onClick:function(){return i(!s)}},c.a.createElement(l.f,null),s&&c.a.createElement("div",{className:"project-delete-modal"},c.a.createElement("div",{className:"project-delete-modal__inner"},c.a.createElement("p",null,"Are you sure you want to delete this project?"),c.a.createElement("button",{type:"button",onClick:function(){return e=t.docId,void m.firestore().collection("projects").doc(e).delete().then((function(){f(Object(_.a)(u)),p("INBOX")}));var e}},"Delete"),c.a.createElement("span",{onClick:function(){return i(!s)}},"Cancel")))))},y=function(e){var t=e.activeValue,a=void 0===t?null:t,r=Object(n.useState)(a),l=Object(o.a)(r,2),s=l[0],i=l[1],d=k().setSelectedProject,u=O().projects;return u&&u.map((function(e){return c.a.createElement("li",{key:e.projectId,"data-doc-id":e.docId,"data-testid":"project-action",className:s===e.projectId?"active_sidebar__project":"sidebar__project",onKeyDown:function(){i(e.projectId),d(e.projectId)},onClick:function(){i(e.projectId),d(e.projectId)}},c.a.createElement(I,{project:e}))}))},g=function(){return c.a.createElement("p",null,"Add Project Component here")},x=function(){var e=Object(n.useState)("inbox"),t=Object(o.a)(e,2),a=(t[0],t[1],Object(n.useState)(!0)),r=Object(o.a)(a,2),s=r[0];r[1];return c.a.createElement("div",{className:"sidebar","data-testid":"sidebar"},c.a.createElement("ul",{className:"sidebar__generic"},c.a.createElement("li",{"data-testid":"inbox",className:"inbox"},c.a.createElement("span",null,c.a.createElement(l.b,null)),c.a.createElement("span",null,"Inbox")),c.a.createElement("li",{"data-testid":"today",className:"today"},c.a.createElement("span",null,c.a.createElement(l.d,null)),c.a.createElement("span",null,"Today")),c.a.createElement("li",{"data-testid":"next_7",className:"next_7"},c.a.createElement("span",null,c.a.createElement(l.e,null)),c.a.createElement("span",null,"Next 7 Days"))),c.a.createElement("div",{className:"sidebar__middle"},c.a.createElement("span",null,c.a.createElement(l.a,null)),c.a.createElement("h2",null,"Projects")),c.a.createElement("ul",{className:"sidebar__projects"},s&&c.a.createElement(y,null)),s&&c.a.createElement(g,null))},S=function(e){var t=e.id;return c.a.createElement("div",{className:"checkbox-holder","data-testid":"checkbox-action",onClick:function(){m.firestore().collection("tasks").doc(t).update({archived:!0})}},c.a.createElement("span",{className:"checkbox"}))},w=function(){var e=j("1").tasks;console.log(e);return c.a.createElement("div",{className:"tasks","data-testid":"tasks"},c.a.createElement("h2",{"data-test-id":"project-name"},""),c.a.createElement("ul",{className:"tasks__list"},e.map((function(e){return c.a.createElement("li",{key:"".concat(e.id)},c.a.createElement(S,{id:e.id}),c.a.createElement("span",null,e.task))}))))},C=function(){return c.a.createElement("section",null,c.a.createElement(x,null),c.a.createElement(w,null))};a(23);Object(r.render)(c.a.createElement((function(){return c.a.createElement(h,null,c.a.createElement(v,null,c.a.createElement("div",{className:"App"},c.a.createElement(s,null),c.a.createElement(C,null))))}),null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.a99dae24.chunk.js.map