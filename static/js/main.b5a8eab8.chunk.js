(this.webpackJsonptodoist=this.webpackJsonptodoist||[]).push([[0],{13:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEfklEQVRogdWaa4hVVRTH//cyTWZhjQWZhZRkZhaVFBQ96AFFBKWV9iAliehDRiBSJGohQpLUB/VDCUlkNnNBgl5+iIysMHtY9IBKeihhGvjInEw05hfrzj7M9ex1jjN3zp3p/GHBPWfvtddaZ6/X2edWAAVUJN0T6CJJIyURqKI+5F3TsFbWdX/XSl/vl7RF0mpJG/pmgNEo4G3Kg+VAtf7ww493SqR8gqVmgLnQnZLWqXw4ImlKVdKsEipvOE7SNDNgUjRUHkw0A44vsQHt1YZUV0b0VFN5t5U4KGlfwetTjW4Vjx5JL0q6OMTbfEm7C5JSsTqwLcqwxeFd4OpQLBvphoIk1Npa5ELfS1qUUV9sFx6N7jYHzID2AhXfK+k5SSskHUiNdUiaJ2mOpFER5yAM2CppTDQ0MJifvyJpiaSfU5y2wzMlLZA0oSDF+9YGTgIWAnsiD+sfNgLXOH6u4P8bWxhjtUZh5wAvAf9G03z8AMwEKo7i5wMvAz0uZ3Ho8p6aPc2PckTsAxaHFjzNezIwH9gfccFfwB/R3cGh04Se5ihiLfZsYHtq+TXAuc58o/uAHx11bBdWA+OB0cFd90azmkN9B74GngZGOkqZcQuCO1znjBtdCWzIEP8+cJXDc2M0sznUY+D3wGqGzHCEZdE4YBVwxBGdFx8TbOsjjuZQd6GdKdY3gSmO4IROBOZm+POfwJIQC158LAwxVBTqBnzsLHYIWAmMTSlxL/BtNLsX5ufnOYobPRB2pWjUkifzVEZgmXs9AdwPvBWN9uKD0Nt4il8LvBdxFIda2jfXDiB3/wI86Cid1JRVQ1AHOj3h1wOfRlP70A08A3Q4vJbJHs/YzUMhRgo3YLSjSDvwMLAjzQBMcuYbTQe+i0T0Yk3gOzMUwaIMqbvQFuBJ4ARHqTNCjbAW4xZn3OjynEOxD0POT/PcHM1sDl2NadSyyx2OsCwaG/z8sCP6p1AHqg7v+BBrRaCzsZAlsDpwiSM4oRHAPIeP0O8sznBL63oXAbsjrkEasCm6DQeBZ4HTU0pMCy7n4TVgsqO40d059WMwqMdAR8gqXgf5G/AYMBV4PRrtxWbgJkfpJD7WRxzF4ah22rLEqwNY+lfgoQw/tzrwwgDeLZqFWwfsaX6Ws6D5+bKMNjzpk4r08zzUd+AUR5E2YA6wK8W8DrjAmW90O/BNjrBWoB4DX4bq2e4oNSbEx9qcOnBpi/08D0fVgc+B2xwFs8gy1ArgnxwBrUanHS0eDkcUl0l6Q1JN0oXRAUYf7BzpEUlfhDOeEdGMoUPFO52eIekTScsknZoamyppk6SVks4aRsUTVOyVb7ukcdFQL7ZJWi5ph6Tpku6KZgwvutqOIf5sSc9Hd/9H8FyoTKgMxfeBVqJqBvxdYgO6qyEdlhVfWRa6IqTNsmGP/afDdmCzpKUlNGCupJ2NbYK9+x4Yxragv7CDhlmJ3o1/tzFMlHSrpMkNLUKSau0rjH1tsWv7bfeSz7R2bTjW3268tZLrxrXSa9t1t/l8aHd21VeT9B+Lu4WPg3kpFQAAAABJRU5ErkJggg=="},15:function(e,t,a){e.exports=a(25)},24:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),s=a(1),o=a(2),l=a(3),d=a.n(l),i=a(12),u=a.n(i),m=(a(21),u.a.initializeApp({apiKey:"AIzaSyBUZuJQafBjuKxufsfH2YvHCGCZqa1F5Mw",authDomain:"todoist-1fa7f.firebaseapp.com",databaseURL:"https://todoist-1fa7f.firebaseio.com",projectId:"todoist-1fa7f",storageBucket:"todoist-1fa7f.appspot.com",messagingSenderId:"676670951114",appId:"1:676670951114:web:59f68672f2ab471be26e33",measurementId:"G-DTLS44ET7F"})),f=a(5),j=[{key:"INBOX",name:"Inbox"},{key:"TODAY",name:"Today"},{key:"NEXT_7",name:"Next 7 Days"}],p=function(e){return j.find((function(t){return t.key===e}))},E=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=[];return function(){for(var a=(new Date).getTime(),n=new Array(8),c=7;c>=0;c--)n[c]=e.charAt(a%64),a=Math.floor(a/64);var r=n.join("");for(c=0;c<12;c++)r+=e.charAt(t[c]);return r}}(),k=Object(n.createContext)(),b=function(e){var t=e.children,a=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){m.firestore().collection("projects").where("userId","==","fadsadsfasd34325ewf23").orderBy("projectId").get().then((function(e){var t=e.docs.map((function(e){return Object(f.a)({},e.data(),{docId:e.id})}));JSON.stringify(t)!==JSON.stringify(a)&&c(t)}))}),[a]),{projects:a,setProjects:c}}(),r=a.projects,o=a.setProjects;return c.a.createElement(k.Provider,{value:{projects:r,setProjects:o}},t)},v=function(){return Object(n.useContext)(k)},O=Object(n.createContext)(),h=function(e){var t=e.children,a=Object(n.useState)("INBOX"),r=Object(s.a)(a,2),o=r[0],l=r[1];return c.a.createElement(O.Provider,{value:{selectedProject:o,setSelectedProject:l}},t)},N=function(){return Object(n.useContext)(O)},A=function(e){var t=e.setProject,a=e.showProjectOverlay,n=e.setShowProjectOverlay,r=v().projects;return r&&a&&c.a.createElement("div",{className:"project-overlay","data-testid":"project-overlay"},c.a.createElement("ul",{className:"project-overlay__list"},r.map((function(e){return c.a.createElement("li",{key:e.projectId,"data-testid":"project-overlay-action",onClick:function(){t(e.projectId),n(!1)}},e.name)}))))},w=function(e){var t=e.setTaskDate,a=e.showTaskDate,n=e.setShowTaskDate;return a&&c.a.createElement("div",{className:"task-date","data-testid":"task-date-overlay"},c.a.createElement("ul",{className:"task-date__list"},c.a.createElement("li",{onClick:function(){n(!1),t(d()().format("DD/MM/YYYY"))},"data-testid":"task-date-overlay"},c.a.createElement("span",null,c.a.createElement(o.h,null)),c.a.createElement("span",null,"Today")),c.a.createElement("li",{onClick:function(){n(!1),t(d()().add(1,"day").format("DD/MM/YYYY"))},"data-testid":"task-date-tomorrow"},c.a.createElement("span",null,c.a.createElement(o.i,null)),c.a.createElement("span",null,"Tomorrow")),c.a.createElement("li",{onClick:function(){n(!1),t(d()().add(7,"day").format("DD/MM/YYYY"))},"data-testid":"task-date-next-week"},c.a.createElement("span",null,c.a.createElement(o.g,null)),c.a.createElement("span",null,"Next Week"))))},_=function(e){var t=e.showAddTaskMain,a=void 0===t||t,r=e.shouldShowMain,l=void 0!==r&&r,i=e.showQuickAddTask,u=e.setShowQuickAddTask,f=Object(n.useState)(""),j=Object(s.a)(f,2),p=j[0],E=j[1],k=Object(n.useState)(""),b=Object(s.a)(k,2),v=b[0],O=b[1],h=Object(n.useState)(""),_=Object(s.a)(h,2),y=_[0],S=_[1],g=Object(n.useState)(l),D=Object(s.a)(g,2),T=D[0],Y=D[1],C=Object(n.useState)(!1),I=Object(s.a)(C,2),x=I[0],B=I[1],M=Object(n.useState)(!1),P=Object(s.a)(M,2),U=P[0],z=P[1],q=N().selectedProject;return c.a.createElement("div",{className:i?"add-task add-task__overlay":"add-task","data-testid":"add-task-comp"},a&&c.a.createElement("div",{className:"add-task__shallow","data-testid":"show-main-action",onClick:function(){return Y(!T)}},c.a.createElement("span",{className:"add-task__plus"},"+"),c.a.createElement("span",{className:"add-task__text"},"Add Task")),(T||i)&&c.a.createElement("div",{className:"add-task__main","data-testid":"add-task-main"},i&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{"data-testid":"quick-add-task"},c.a.createElement("h2",{className:"header"},"Quick Add Task"),c.a.createElement("span",{className:"add-task__cancel-x","data-testid":"add-test-quick-cancel",onClick:function(){Y(!1),B(!1),u(!1)}},"X"))),c.a.createElement(A,{setProject:S,showProjectOverlay:x,setShowProjectOverlay:B}),c.a.createElement(w,{setTaskDate:O,showTaskDate:U,setShowTaskDate:z}),c.a.createElement("input",{className:"add-task__content","data-testid":"add-task-content",type:"text",value:p,onChange:function(e){return E(e.target.value)}}),c.a.createElement("button",{type:"button",className:"add-task__submit","data-testid":"add-task",onClick:function(){return function(){var e=y||q,t="";return"TODAY"===e?t=d()().format("DD/MM/YYYY"):"NEXT_7"===e&&(t=d()().add(7,"days").format("DD/MM/YYYY")),p&&e&&m.firestore().collection("tasks").add({archived:!1,projectId:e,task:p,date:t||v,userId:"fadsadsfasd34325ewf23"}).then((function(){E(""),S(""),Y(""),B(!1)}))}()}},"Add Task"),!i&&c.a.createElement("span",{className:"add-task__cancel","data-testid":"add-task-main-cancel",onClick:function(){Y(!1),B(!1)}},"Cancel"),c.a.createElement("span",{className:"add-task__project","data-testid":"show-project-overlay",onClick:function(){return B(!x)}},c.a.createElement(o.f,null)),c.a.createElement("span",{className:"add-task__date","data-testid":"show-project-overlay",onClick:function(){return z(!U)}},c.a.createElement(o.e,null))))},y=a(13),S=a.n(y),g=function(e){var t=e.darkMode,a=e.setDarkMode,r=Object(n.useState)(!1),l=Object(s.a)(r,2),d=(l[0],l[1]),i=Object(n.useState)(!1),u=Object(s.a)(i,2),m=u[0],f=u[1];return c.a.createElement("header",{className:"header","data-testid":"header"},c.a.createElement("nav",null,c.a.createElement("div",{className:"logo"},c.a.createElement("img",{src:S.a,alt:"Todoish"})),c.a.createElement("div",{className:"settings"},c.a.createElement("ul",null,c.a.createElement("li",{"data-testid":"quick-add-task-action",className:"settings__add",onClick:function(){f(!0),d(!0)}},"+"),c.a.createElement("li",{"data-testid":"dark-mode-action",className:"settings__darkmode",onClick:function(){return a(!t)}},c.a.createElement(o.c,null))))),c.a.createElement(_,{showAddTaskMain:!1,shouldShowMain:d,showQuickAddTask:m,setShowQuickAddTask:f}))},D=a(14),T=function(e){var t=e.project,a=Object(n.useState)(!1),r=Object(s.a)(a,2),l=r[0],d=r[1],i=v(),u=i.projects,f=i.setProjects,j=N().setSelectedProject;return console.log(l),c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"sidebar__dot"},"\u2022"),c.a.createElement("span",{className:"sidebar__project-name"},t.name),c.a.createElement("span",{className:"sidebar__project-delete","data-testid":"delete-project",onClick:function(){return d(!l)}},c.a.createElement(o.j,null),l&&c.a.createElement("div",{className:"project-delete-modal"},c.a.createElement("div",{className:"project-delete-modal__inner"},c.a.createElement("p",null,"Are you sure you want to delete this project?"),c.a.createElement("button",{type:"button",onClick:function(){return e=t.docId,console.log(e),void m.firestore().collection("projects").doc(e).delete().then((function(){f(Object(D.a)(u)),j("INBOX")}));var e}},"Delete"),c.a.createElement("span",{onClick:function(){return d(!l)}},"Cancel")))))},Y=function(e){var t=e.activeValue,a=void 0===t?null:t,r=Object(n.useState)(a),o=Object(s.a)(r,2),l=o[0],d=o[1],i=N().setSelectedProject,u=v().projects;return u&&u.map((function(e){return c.a.createElement("li",{key:e.projectId,"data-doc-id":e.docId,"data-testid":"project-action",className:l===e.projectId?"active sidebar__project":"sidebar__project",onKeyDown:function(){d(e.projectId),i(e.projectId)},onClick:function(){d(e.projectId),i(e.projectId)}},c.a.createElement(T,{project:e}))}))},C=function(e){var t=e.shouldShow,a=void 0!==t&&t,r=Object(n.useState)(a),o=Object(s.a)(r,2),l=o[0],d=o[1],i=Object(n.useState)(""),u=Object(s.a)(i,2),f=u[0],j=u[1],p=E(),k=v().setProjects;return c.a.createElement("div",{className:"add-project","data-testid":"add-project"},l&&c.a.createElement("div",{classname:"add-project__input"},c.a.createElement("input",{value:f,onChange:function(e){return j(e.target.value)},className:"add-project__name","data-testid":"project-name",type:"text",placeholder:"Name your project"}),c.a.createElement("button",{className:"add-project__submit",type:"button",onClick:function(){return f&&m.firestore().collection("projects").add({projectId:p,name:f,userId:"fadsadsfasd34325ewf23"}).then((function(){k([]),j(""),d(!1)}))},"data-testid":"add-project-submit"},"Add Project"),c.a.createElement("span",{"data-testid":"hide-project-overlay",className:"add-project__cancel",onClick:function(){return d(!1)}},"Cancel")),c.a.createElement("span",{className:"add-project__plus"},"+"),c.a.createElement("span",{"data-testid":"add-project-action",className:"add-project__text",onClick:function(){return d(!l)}},"Add Project"))},I=function(){var e=N().setSelectedProject,t=Object(n.useState)("inbox"),a=Object(s.a)(t,2),r=a[0],l=a[1],d=Object(n.useState)(!0),i=Object(s.a)(d,2),u=i[0],m=i[1];return c.a.createElement("div",{className:"sidebar","data-testid":"sidebar"},c.a.createElement("ul",{className:"sidebar__generic"},c.a.createElement("li",{"data-testid":"inbox",className:"inbox"===r?"active":void 0,onClick:function(){l("inbox"),e("INBOX")}},c.a.createElement("span",null,c.a.createElement(o.b,null)),c.a.createElement("span",null,"Inbox")),c.a.createElement("li",{"data-testid":"today",className:"today"===r?"active":void 0,onClick:function(){l("today"),e("TODAY")}},c.a.createElement("span",null,c.a.createElement(o.d,null)),c.a.createElement("span",null,"Today")),c.a.createElement("li",{"data-testid":"next_7",className:"next_7"===r?"active":void 0,onClick:function(){l("next_7"),e("NEXT_7")}},c.a.createElement("span",null,c.a.createElement(o.e,null)),c.a.createElement("span",null,"Next 7 Days"))),c.a.createElement("div",{className:"sidebar__middle",onClick:function(){return m(!u)}},c.a.createElement("span",null,c.a.createElement(o.a,{className:u?void 0:"hidden-projects"})),c.a.createElement("h2",null,"Projects")),c.a.createElement("ul",{className:"sidebar__projects"},u&&c.a.createElement(Y,null)),u&&c.a.createElement(C,null))},x=function(e){var t=e.id;return c.a.createElement("div",{className:"checkbox-holder","data-testid":"checkbox-action",onClick:function(){m.firestore().collection("tasks").doc(t).update({archived:!0})}},c.a.createElement("span",{className:"checkbox"}))},B=function(){var e=N().selectedProject,t=v().projects,a=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)([]),l=Object(s.a)(o,2),i=l[0],u=l[1];return Object(n.useEffect)((function(){var t=m.firestore().collection("tasks").where("userId","==","fadsadsfasd34325ewf23");return t=(t=e&&!p(e)?t=t.where("projectId","==",e):"TODAY"===e?t=t.where("date","==",d()().format("DD/MM/YYYY")):"INBOX"===e||0===e?t=t.where("date","==",""):t).onSnapshot((function(t){var a=t.docs.map((function(e){return Object(f.a)({id:e.id},e.data())}));r("NEXT_7"===e?a.filter((function(e){return d()(e.date,"DD-MM-YYYY").diff(d()(),"days")<=7&&!0!==e.archived})):a.filter((function(e){return!0!==e.archived}))),u(a.filter((function(e){return!1!==e.archived})))})),function(){return t()}}),[e]),{tasks:c,archivedTasks:i}}(e),r=a.tasks,o=a.archivedTasks,l=Object(n.useState)(!1),i=Object(s.a)(l,2),u=(i[0],i[1],"");return t&&e&&!p(e)&&(u=function(e,t){return e.find((function(e){return e.projectId===t}))}(t,e).name,console.log("projectname 1: ",u)),p(e)&&e&&(u=function(e,t){return e.find((function(e){return e.key===t}))}(j,e).name,console.log("projectname 2: ",u)),Object(n.useEffect)((function(){document.title="".concat(u,": Todoist")})),console.log(r),console.log(o),c.a.createElement("div",{className:"tasks","data-testid":"tasks"},c.a.createElement("h2",{"data-test-id":"project-name"},u),c.a.createElement("ul",{className:"tasks__list"},r.map((function(e){return c.a.createElement("li",{key:"".concat(e.id)},c.a.createElement(x,{id:e.id}),c.a.createElement("span",null,e.task))}))),c.a.createElement(_,null),c.a.createElement("ul",{className:"tasks__list archived"},o.map((function(e){return c.a.createElement("li",{key:"".concat(e.id)},c.a.createElement("span",null,e.task))}))))},M=function(){return c.a.createElement("section",null,c.a.createElement(I,null),c.a.createElement(B,null))};a(24);Object(r.render)(c.a.createElement((function(e){var t=e.darkModeDefault,a=void 0!==t&&t,r=Object(n.useState)(a),o=Object(s.a)(r,2),l=o[0],d=o[1];return c.a.createElement(h,null,c.a.createElement(b,null,c.a.createElement("main",{className:l?"darkmode":void 0,"data-testid":"application"},c.a.createElement(g,{darkMode:l,setDarkMode:d}),c.a.createElement(M,null))))}),null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.b5a8eab8.chunk.js.map